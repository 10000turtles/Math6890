# 2 #THISMAKEFILEUSESTHEFOLLOWINGENVIRONMENTALVARIABLE: 3 # APlusPlus 4 # 5 #TheAPlusPlusenvvariableshouldnormallybesetwhenyoulogin. 6 # 7 #Ifnotyoucansetitusing: 8 # 9 #cg6:use: 10 # setenvAPlusPlus/home/henshw/software/AppPpp-0.8.3-gcc7.5.0/A++/install 11 # 12 #cgpi:use: 13 # setenvAPlusPlus/home/henshw/software/AppPpp-0.8.3-gcc4.8.5/A++/install 14 # 15 #Ifyoutype: 16 # ls$APlusPlus/include 17 #youshouldseeA++.haswellasotherincludefiles. 18 19 #Firsttargetismadebydefaultwhenusing"make",traditionallynamed"all" 20 all=heat1dImp 21 22 #Setnamesofcompilersonceincaseweneedtochangethem 23 CC=gcc 24 CXX=g++ 25 26 CCFLAGS=-fPIC-O3-I$(APlusPlus)/include-I../../include 27 28 #ListoflibrariesforA++ 29 AppLibraries=-Wl,-rpath,$(APlusPlus)/lib-L$(APlusPlus)/lib-lApp-lApp_static 30 31 #Listofalllibraries 32 LIBS=$(AppLibraries) 33 34 #implicit(generic)ruletocompile.Cfiles 35 #$@=filenameofthetarget 36 #$<=nameofthefirstprerequistite 37 %.o:%.C 38 $(CXX)$(CCFLAGS)-o$@-c$< 39 40 #1Dheatequation,implicittime-stepping,A++arrays 41 heat1dImpFiles=heat1dImp.otridiagonal.o 42 heat1dImp:$(heat1dImpFiles) 43 $(CXX)$(CCFLAGS)-o$@$(heat1dImpFiles)$(LIBS) 44 45 clean:;rm*.o